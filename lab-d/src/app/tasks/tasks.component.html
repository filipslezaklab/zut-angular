<div class="top">
  <form id="new-task" [formGroup]="newTaskForm" (ngSubmit)="handleNewTaskSubmit()">
    <div class="form-group"><label for="title">Title</label><input id="title" type="text" formControlName="title" />
    </div>
    <div class="form-group"><label for="deadline">Deadline</label><input id="deadline" type="date"
        formControlName="deadline" /></div>
    <button type="submit" [disabled]="loading">{{ loading ? 'Processing...' : 'Add Task'}}</button>
  </form>
  <button type="button" [disabled]="loading" (click)="archive()">Archive completed</button>
</div>
<ul id="tasks-list">
  <li *ngFor="let task of tasks">
    <div class="task" [class.completed]="task.completed" (click)="complete(task)">
      <p class="title">Title: {{ task.title }}</p>
      <p class="date" *ngIf="task.deadline">{{ task.deadline | date:'YYYY-MM-dd' }}</p>
      <input type="checkbox" [checked]="task.completed" (change)="complete(task, $event)" />
    </div>
  </li>
</ul>